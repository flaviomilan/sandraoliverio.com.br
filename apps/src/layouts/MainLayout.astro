---
const {
  title = 'Sandra Oliverio - Assessoria',
  description = 'Sandra Oliverio Cerimonial e Assessoria de Casamentos - Criando momentos inesquecíveis com elegância e sofisticação. Serviços exclusivos para eventos e casamentos de luxo em Ribeirão Preto e região.',
  canonical,
  image = '/images/sandraoliverio.avif',
  ogType = 'website',
} = Astro.props;

// Importando constantes
import { CONTACT, SITE } from '../constants';
import GoogleAnalytics from '../components/GoogleAnalytics.astro';

// Usando constante do número do WhatsApp
const whatsappNumber = CONTACT.WHATSAPP.PHONE_NUMBER;

// URL Canônica
const canonicalURL = canonical || new URL(Astro.url.pathname, SITE.URL).href;
---

<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>

    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://analytics.google.com; connect-src 'self' https://www.google-analytics.com https://analytics.google.com https://region1.google-analytics.com; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; font-src 'self' data:;" />

    <!-- Meta tags SEO -->
    <meta name="description" content={description} />
    <meta
      name="keywords"
      content="cerimonial de casamento, assessoria de casamento, casamento de luxo, casamento elegante, sandra oliverio, cerimonialista, eventos corporativos, festas de 15 anos, ribeirão preto"
    />
    <meta name="author" content="Sandra Oliverio" />
    <link rel="canonical" href={canonicalURL} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={ogType} />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, SITE.URL).href} />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:site_name" content="Sandra Oliverio" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={canonicalURL} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(image, SITE.URL).href} />

    <!-- Google Analytics -->
    <GoogleAnalytics />

    <!-- Structured Data - JSON-LD - EventPlanner -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "@id": "https://www.sandraoliverio.com.br/#eventplanner",
        "name": "Sandra Oliverio",
        "jobTitle": "Cerimonialista e Wedding Planner",
        "url": "https://www.sandraoliverio.com.br",
        "sameAs": [
          "https://www.instagram.com/sandra_oliverio/",
          "https://www.facebook.com/sandraoliverio.assessoria"
        ],
        "knowsAbout": [
          "Planejamento de Casamentos",
          "Organização de Eventos",
          "Cerimonial",
          "Gestão de Fornecedores",
          "Decoração de Eventos"
        ],
        "worksFor": {
          "@type": "LocalBusiness",
          "name": "Sandra Oliverio Assessoria",
          "url": "https://www.sandraoliverio.com.br"
        },
        "hasCredential": "Especialista em eventos de luxo com mais de 10 anos de experiência",
        "image": "https://www.sandraoliverio.com.br/images/sandra-oliverio.avif"
      }
    </script>

    <!-- Local fonts -->
    <link rel="stylesheet" href="/fonts/fonts.css" />

    <!-- Load non-critical CSS asynchronously -->
    <script>
      // Load non-critical CSS after page load
      window.addEventListener('load', function () {
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = '/styles/global.css';
        link.media = 'print';
        link.onload = function () {
          this.media = 'all';
        };
        document.head.appendChild(link);
      });
    </script>

    <!-- Fallback for non-JS users -->
    <noscript>
      <link rel="stylesheet" href="/styles/global.css" />
    </noscript>
    <style>
      /* Critical above-the-fold CSS - Inlined for optimal performance */
      :root {
        --color-cream: #e8d8c9;
        --color-off-white: #f8f5f2;
        --color-taupe: #b0a49a;
        --color-dark: #3a3a3a;
        --color-button: #9a8c7e;
        --color-primary: var(--color-dark);
        --color-text: #3a3a3a;
        --color-light: var(--color-off-white);
        --font-primary: 'Playfair Display', 'Times New Roman', Georgia, 'Times', serif;
        --font-secondary: 'Montserrat', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
        --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        --shadow-soft: 0 5px 20px rgba(0, 0, 0, 0.03);
        --border-radius: 2px;
        --color-footer: #2a2a2a;
        --color-footer-dark: #212121;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-secondary);
        color: var(--color-text);
        line-height: 1.8;
        background-color: var(--color-light);
        overflow-x: hidden;
        font-weight: 300;
        letter-spacing: 0.03em;
        padding-top: 90px;
      }

      a {
        color: inherit;
        text-decoration: none;
        transition: var(--transition);
      }

      img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: var(--font-primary);
        color: var(--color-dark);
        line-height: 1.3;
        margin-bottom: 1.8rem;
        font-weight: 300;
        letter-spacing: 0.06em;
      }

      h1 {
        font-size: 3.2rem;
      }
      h2 {
        font-size: 2.4rem;
      }
      h3 {
        font-size: 1.9rem;
      }

      p {
        margin-bottom: 1.8rem;
        line-height: 2;
        font-weight: 300;
        font-size: 1.05rem;
      }

      /* Header - Critical styles */
      header {
        position: fixed;
        top: 0;
        width: 100%;
        background-color: rgba(248, 245, 242, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1000;
        padding: 20px 0;
        transition: var(--transition);
        min-height: 90px;
        display: flex;
        align-items: center;
      }

      header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo img {
        max-width: 220px;
        height: 50px;
        width: 220px;
        display: block;
        transition: var(--transition);
        object-fit: contain;
      }

      nav {
        display: flex;
        align-items: center;
      }

      .nav-menu {
        display: flex;
        list-style: none;
        align-items: center;
        gap: 35px;
      }

      .nav-menu a {
        font-weight: 400;
        letter-spacing: 1px;
        text-transform: uppercase;
        font-size: 0.85rem;
        transition: var(--transition);
        color: var(--color-dark);
      }

      .btn-contato {
        background-color: var(--color-button);
        color: white;
        padding: 12px 25px;
        border-radius: var(--border-radius);
        font-weight: 400;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        font-size: 0.8rem;
        transition: var(--transition);
        box-shadow: var(--shadow-soft);
      }

      /* Container responsive */
      .container {
        width: 100%;
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 60px;
      }

      /* Hero section - Critical */
      .hero {
        position: relative;
        height: calc(100vh - 90px);
        margin-top: -90px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        background-size: cover;
        background-position: center;
      }

      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
        z-index: 1;
      }

      .hero-content {
        position: relative;
        z-index: 2;
        color: white;
        max-width: 900px;
        margin: 0 auto;
      }

      /* Mobile hamburger */
      .hamburger-btn {
        display: none;
        flex-direction: column;
        cursor: pointer;
        background: none;
        border: none;
        z-index: 1001;
        padding: 8px;
      }

      .hamburger-btn span {
        display: block;
        width: 25px;
        height: 2px;
        margin: 3px 0;
        background-color: var(--color-dark);
        transition: var(--transition);
      }

      /* Mobile menu - Critical styles to prevent FOUC */
      .mobile-menu {
        position: fixed;
        top: 0;
        right: -320px;
        width: 320px;
        height: 100vh;
        background-color: var(--color-light);
        z-index: 1000;
        padding: 30px;
        box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        overflow-y: auto;
      }

      .mobile-menu.active {
        right: 0;
      }

      .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s ease;
      }

      .mobile-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .mobile-menu-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(58, 58, 58, 0.1);
      }

      .mobile-menu-header h2 {
        margin: 0;
        font-size: 1.5rem;
        font-weight: 300;
        letter-spacing: 2px;
        color: var(--color-dark);
      }

      .mobile-close {
        background: transparent;
        border: none;
        font-size: 2rem;
        cursor: pointer;
        color: var(--color-dark);
        transition: all 0.3s ease;
        line-height: 1;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .mobile-close:hover {
        color: var(--color-primary);
        transform: rotate(90deg);
      }

      .mobile-menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .mobile-menu li {
        margin-bottom: 25px;
      }

      .mobile-menu a {
        font-family: var(--font-secondary);
        font-size: 1rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--color-dark);
        transition: all 0.3s ease;
        position: relative;
        padding: 5px 0;
        display: block;
        text-decoration: none;
      }

      .mobile-menu a::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 1px;
        background-color: var(--color-primary);
        transition: width 0.4s ease;
      }

      .mobile-menu a:hover {
        color: var(--color-primary);
      }

      .mobile-menu a:hover::after {
        width: 100%;
      }

      .btn-contato-mobile {
        background-color: var(--color-dark);
        color: white !important;
        padding: 16px 30px;
        border-radius: var(--border-radius);
        text-align: center;
        margin-top: 20px;
        font-size: 0.9rem !important;
        letter-spacing: 2.5px;
        box-shadow: var(--shadow-soft);
        transition: var(--transition);
      }

      .btn-contato-mobile:hover {
        background-color: #2a2a2a !important;
        transform: translateY(-2px);
        box-shadow: var(--shadow-accent);
      }

      .no-scroll {
        overflow: hidden;
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .container {
          padding: 0 40px;
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 30px;
        }
        .logo img {
          max-width: 180px;
          width: 180px;
          height: 40px;
        }
        .nav-menu {
          display: none;
        }
        .hamburger-btn {
          display: flex;
        }
        h1 {
          font-size: 2.8rem;
        }
        h2 {
          font-size: 2.2rem;
        }
        h3 {
          font-size: 1.7rem;
        }
        header {
          min-height: 80px;
        }
        body {
          padding-top: 80px;
        }
        .hero {
          height: calc(100vh - 80px);
          margin-top: -80px;
        }
      }

      @media (max-width: 580px) {
        .container {
          padding: 0 25px;
        }
        .logo img {
          max-width: 160px;
          width: 160px;
          height: 36px;
        }
        h1 {
          font-size: 2.4rem;
        }
        h2 {
          font-size: 2rem;
        }
        h3 {
          font-size: 1.5rem;
        }
        header {
          min-height: 75px;
        }
        body {
          padding-top: 75px;
        }
        .hero {
          height: calc(100vh - 75px);
          margin-top: -75px;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 0 20px;
        }
        h1 {
          font-size: 2.2rem;
        }
        h2 {
          font-size: 1.8rem;
        }
        h3 {
          font-size: 1.4rem;
        }
      }

      /* Footer - Critical styles */
      footer {
        background-color: var(--color-footer);
        color: white;
        padding: 100px 0 30px;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
        gap: 60px;
        margin-bottom: 70px;
      }

      .footer-logo h3 {
        color: white;
        margin-bottom: 20px;
      }

      .footer-logo p {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 30px;
      }

      .footer-contact h4,
      .footer-social h4 {
        color: white;
        margin-bottom: 30px;
        position: relative;
        padding-bottom: 15px;
        letter-spacing: 2px;
      }

      .footer-contact h4::after,
      .footer-social h4::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 40px;
        height: 1px;
        background-color: var(--color-primary);
        opacity: 0.7;
      }

      .footer-contact p {
        margin-bottom: 15px;
        color: rgba(255, 255, 255, 0.7);
      }

      .social-icons {
        display: flex;
        gap: 25px;
      }

      .social-icons a {
        color: rgba(255, 255, 255, 0.7);
        transition: var(--transition);
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.1);
      }

      .social-icons a:hover {
        color: white;
        background-color: var(--color-button);
        transform: translateY(-3px);
      }

      .copyright {
        padding-top: 40px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
      }

      .copyright p {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.9rem;
        margin-bottom: 0;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="logo">
          <a href="/" title="Página inicial - Sandra Oliverio">
            <img
              src="/images/logo.png"
              alt="Logo Sandra Oliverio - Assessoria de Eventos e Casamentos"
              width="220"
              height="50"
              fetchpriority="high"
              sizes="(max-width: 580px) 160px, (max-width: 768px) 180px, 220px"
            />
          </a>
        </div>
        <nav>
          <ul class="nav-menu">
            <li><a href="/">Home</a></li>
            <li><a href="/sobre">Sobre</a></li>
            <li><a href="/servicos">Serviços</a></li>
            <li><a href="/depoimentos">Depoimentos</a></li>
            <li>
              <a
                href={`https://wa.me/${whatsappNumber}`}
                target="_blank"
                rel="noopener noreferrer"
                class="btn-contato">Contato</a>
            </li>
          </ul>
          <button class="hamburger-btn" aria-label="Menu de navegação">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </nav>
      </div>
    </header>

    <div class="mobile-menu">
      <div class="mobile-menu-header">
        <h2>Sandra Oliverio</h2>
        <button class="mobile-close" aria-label="Fechar menu">×</button>
      </div>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/sobre">Sobre</a></li>
        <li><a href="/servicos">Serviços</a></li>
        <li><a href="/depoimentos">Depoimentos</a></li>
        <li>
          <a
            href={`https://wa.me/${whatsappNumber}`}
            target="_blank"
            rel="noopener noreferrer"
            class="btn-contato-mobile">Contato</a>
        </li>
      </ul>
    </div>
    <div class="mobile-overlay"></div>

    <main>
      <slot />
    </main>

    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <h3>Sandra Oliverio</h3>
            <p>Assessoria</p>
          </div>
          <div class="footer-contact">
            <h4>Contato</h4>
            <p>Telefone: {CONTACT.PHONE}</p>
            <p>Email: {CONTACT.EMAIL}</p>
            <p>{CONTACT.ADDRESS.CITY} - {CONTACT.ADDRESS.STATE}</p>
          </div>
          <div class="footer-social">
            <h4>Redes Sociais</h4>
            <div class="social-icons">
              <a
                href="https://instagram.com/sandra_oliverio"
                target="_blank"
                rel="noopener noreferrer"
                aria-label="Instagram da Sandra Oliverio"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  ><path
                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"
                  ></path></svg
                >
              </a>
              <a
                href={`https://wa.me/${whatsappNumber}`}
                target="_blank"
                rel="noopener noreferrer"
                aria-label="WhatsApp da Sandra Oliverio"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  ><path
                    d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"
                  ></path></svg
                >
              </a>
            </div>
          </div>
        </div>
        <div class="copyright">
          <p>&copy; {new Date().getFullYear()} Sandra Oliverio. Todos os direitos reservados.</p>
        </div>
      </div>
    </footer>

    <script>
      import '../utils/main.js';
    </script>

    <!-- Schema.org JSON-LD markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Sandra Oliverio Assessoria",
        "image": "https://sandraoliverio.com.br/images/logo.png",
        "logo": "https://sandraoliverio.com.br/images/logo.png",
        "url": "https://sandraoliverio.com.br",
        "telephone": "${CONTACT.PHONE}",
        "email": "${CONTACT.EMAIL}",
        "description": "Cerimonial e assessoria para casamentos e eventos de luxo. Criando momentos inesquecíveis com elegância e sofisticação.",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "${CONTACT.ADDRESS.CITY}",
          "addressRegion": "${CONTACT.ADDRESS.STATE}",
          "addressCountry": "BR"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": -21.177,
          "longitude": -47.81
        },
        "sameAs": ["https://instagram.com/sandra_oliverio", "https://wa.me/${whatsappNumber}"],
        "openingHoursSpecification": {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "09:00",
          "closes": "18:00"
        },
        "areaServed": ["${CONTACT.ADDRESS.CITY}", "${CONTACT.ADDRESS.STATE}"]
      }
    </script>

    <!-- Schema para serviços -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Service",
        "serviceType": "Cerimonial de Casamento",
        "provider": {
          "@type": "LocalBusiness",
          "name": "Sandra Oliverio Assessoria"
        },
        "serviceOutput": {
          "@type": "ItemList",
          "name": "Serviços de Eventos",
          "itemListElement": [
            {
              "@type": "Service",
              "name": "Cerimônias de Casamento",
              "description": "Concebemos ocasiões memoráveis que transcendem o ordinário, onde cada elemento é meticulosamente selecionado para harmonizar-se em uma experiência sensorial refinada e singular."
            },
            {
              "@type": "Service",
              "name": "Celebrações de 15 Anos",
              "description": "Elaboramos celebrações de 15 anos que combinam tradição e modernidade, criando ambientes sofisticados que refletem a personalidade e elegância da debutante."
            },
            {
              "@type": "Service",
              "name": "Eventos Corporativos Distintivos",
              "description": "Desenvolvemos experiências corporativas que elevam o prestígio da sua marca, com atenção primorosa aos detalhes e serviço impecável, adequados ao mais exigente público."
            }
          ]
        }
      }
    </script>
  </body>
</html>
